{"name":"Lurker","tagline":"a tiny wrapper for mySQLDB","body":"Lurker\r\n======\r\nLurker is a tiny mysql wrapper built on the top of python-mySQLdb.\r\n\r\n<img src=\"https://raw.github.com/emre/lurker/master/lurker.jpg\" />\r\n\r\n\r\nInstallation\r\n======\r\n\r\ninstall via pip\r\n\r\n```\r\npip install lurker\r\n```\r\n\r\nor easy_install if you like 90's.\r\n\r\n```\r\neasy_install lurker\r\n```\r\n\r\nor latest master branch\r\n\r\n```\r\ngit clone git://github.com/emre/lurker.git\r\npython setup.py install\r\n```\r\n\r\nQuick Tutorial\r\n======\r\n\r\nConnecting to the database\r\n--------\r\n\r\n* with Configuration objects. (This could be preferrable for seperating environments like DevConfig, ProdConfig, TestConfig)\r\n\r\n\r\n``` python\r\nclass DatabaseConfig(BaseLurkerConfig):\r\n    host = 'localhost'\r\n    user = 'root'\r\n    passwd = ''\r\n    db = ''\r\n\r\nconnection = Connection(DatabaseConfig)\r\n\r\n```\r\n\r\n* without Configuration objects\r\n\r\n```python\r\n\r\nconnection = Connection().quick_connect(\"mysql_user\", \"mysql_passwd\", \"db_name\", \"host\")\r\n\r\n```\r\n\r\nSending Queries\r\n--------\r\n``` python\r\n# returns last_id\r\nconnection.execute(\"INSERT INTO table_name (name) VALUES (%s)\", ['Selami Sahin', ])\r\n\r\n# returns row count\r\nconnection.execute(\"UPDATE table_name SET name = %s\", [\"Muhittin Bosat\", ])\r\n\r\n# returns a result set\r\nall_people = connection.get_results(\"SELECT * FROM people\")\r\n\r\n# returns a row\r\none_people = connection.get_row(\"SELECT * FROM people WHERE id = 1\")\r\n\r\n# server-side cursor\r\nfor person in connection.iterate(\"SELECT * FROM people\"):\r\n    print person\r\n```\r\n\r\nQuery Caching Support with Redis\r\n--------\r\n* In order to activate caching support, you need to set cache and cache_information variables in your config class.\r\n\r\n``` python\r\nfrom lurker.configuration import BaseLurkerConfig\r\nfrom lurker.connection import Connection\r\nfrom lurker.cache.backends.redis_backend import RedisBackend\r\n\r\nclass DbConfig(BaseLurkerConfig):\r\n    host = 'localhost'\r\n    user = 'root'\r\n    passwd = 'passwd'\r\n    db = 'db_name'\r\n    cache = True\r\n    cache_information = {\r\n        'backend': RedisBackend,\r\n        'args': (),\r\n        'kwargs': {'host': 'localhost', 'port': 6379, 'db': 0},\r\n    }\r\n```\r\n\r\n* Usage in get_results and get_row\r\n\r\n``` python\r\n\r\nprint connection.get_row(\"SELECT * FROM people WHERE id = %s\", parameters=(1,), cache=30)\r\nprint connection.get_row(\"SELECT * FROM people WHERE id = %s\", parameters=(1,), cache=30)\r\n\r\n# output\r\n# DEBUG:root:cache miss: SELECT * FROM people WHERE id = %s\r\n# {'id': 1L, 'name': u'Emre Yilmaz'}\r\n# DEBUG:root:cache hit: SELECT * FROM people WHERE id = %s\r\n# {u'id': 1, u'name': u'Emre Yilmaz'}\r\n\r\n```\r\n\r\nMaintainer\r\n======\r\nEmre YÄ±lmaz - [@emre_yilmaz](http://twitter.com/emre_yilmaz)\r\n\r\nContributors\r\n=============\r\nMirat Can Bayrak - [@mirat](http://twitter.com/mirat)\r\n\r\nProjects/Scripts powered by lurker\r\n====================================\r\n - Database Copy: https://gist.github.com/4686232#file-db_copy-py\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}